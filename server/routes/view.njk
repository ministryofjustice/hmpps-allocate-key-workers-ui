{% extends "partials/layout.njk" %}

{% set mainClasses = "app-container govuk-body" %}

{% block content %}
  <h1 class="govuk-heading-l govuk-!-margin-bottom-6">{{ (policyName or "NOT SET") | sentenceCase }}s</h1>


    <div class="homepage-content">
      <div class="govuk-width-container">
        <div class="govuk-grid-row">
          <div class="govuk-grid-column-full">
            <div class="card-group govuk-grid-row">
            {% if prisonEnabled %}
              {% if user | hasPermission('view') %}
                <div class="govuk-grid-column-one-third card-group__item">
                  <div class="card card--clickable">
                    <h2 class="govuk-heading-m card__heading">
                      <a class="govuk-link govuk-link--no-visited-state card__link" href="/{{ policyPath }}/allocate">Allocate {{ policyName }}s to prisoners</a>
                    </h2>
                    <p class="govuk-body card__description">View all prisoners or filter by location or allocation status, search for individuals, and automatically assign {{ policyName }}s.</p>
                  </div>
                </div>

                <div class="govuk-grid-column-one-third card-group__item">
                  <div class="card card--clickable">
                    <h2 class="govuk-heading-m card__heading">
                      <a class="govuk-link govuk-link--no-visited-state card__link" href="/{{ policyPath }}/manage-staff">Manage {{ policyName }}s</a>
                    </h2>
                    <p class="govuk-body card__description">View {{ policyName }}s, change their status and capacity, and view and reassign their prisoners.</p>
                  </div>
                </div>

                <div class="govuk-grid-column-one-third card-group__item">
                  <div class="card card--clickable">
                    <h2 class="govuk-heading-m card__heading">
                      <a class="govuk-link govuk-link--no-visited-state card__link" href="/{{ policyPath }}/staff-data">View {{ policyName }} data</a>
                    </h2>
                    <p class="govuk-body card__description">View {{ policyName }} data for your establishment.</p>
                  </div>
                </div>
              {% else %}
                <div class="govuk-grid-column-one-third card-group__item">
                  <div class="card card--clickable">
                    <h2 class="govuk-heading-m card__heading">
                      <a class="govuk-link govuk-link--no-visited-state card__link" href="/{{ policyPath }}/staff-profile/{{ user.userId }}">My {{ policyName }} allocations</a>
                    </h2>
                    <p class="govuk-body card__description">View your {{ policyName }} allocations and personal statistics.</p>
                  </div>
                </div>
              {% endif %}

              {% if user | hasPermission('allocate') %}
                <div class="govuk-grid-column-one-third card-group__item">
                  <div class="card card--clickable">
                    <h2 class="govuk-heading-m card__heading">
                      <a class="govuk-link govuk-link--no-visited-state card__link" href="/{{ policyPath }}/manage-staff-roles">Manage {{ policyName }} roles</a>
                    </h2>
                    <p class="govuk-body card__description">Assign or remove the {{ policyName }} role for individual staff members in your establishment.</p>
                  </div>
                </div>
              {% endif %}
            {% endif %}

              {% if user | hasPermission('allocate') %}
                <div class="govuk-grid-column-one-third card-group__item">
                  <div class="card card--clickable">
                    <h2 class="govuk-heading-m card__heading">
                      <a class="govuk-link govuk-link--no-visited-state card__link" href="/{{ policyPath }}/establishment-settings">Manage your establishmentâ€™s {{ policyName }} settings</a>
                    </h2>
                    <p class="govuk-body card__description">Enable automatic assignment of {{ policyName }}s, set capacity and view session frequency settings.</p>
                  </div>
                </div>
              {% endif %}
            </div>
          </div>
        </div>
      </div>
    </div>
{% endblock %}
